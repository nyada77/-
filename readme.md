# 信息可视化课程问题讨论
### Q1：为什么八爪鱼/其他爬虫软件爬取天气数据出现缺失一大片数据的现象？  
#### R:先说一个很可能的结论：大家都在用校园网爬天气网，导致校园网公网ip被网站ban了。  
>本人最开始是使用与八爪鱼相同原理的模拟浏览器方式爬取，结果在运行一段时间后发现了如下问题： 
  

>![pic_1] （噔噔咚）  

>然后回归纯真，用原始人手段（指requests库）又写了个直接https请求网页的爬虫。并且把每次请求的状态码都打印出来： 

>![pic_2]  (满屏403)  

>403是指服务端主动拒绝访问请求，200才是请求正常的状态码，很明显被反爬了。
>后来跟组员交流，发现她用八爪鱼成功爬了四千条，于是借用组员的八爪鱼配置，我顺藤摸瓜用八爪鱼来了一下：  

>![pic_3]  （数据仍然缺失）  
>>但是蹊跷的是，我访问的频率也不大呀。而且老师在上课演示的时候可以很完整爬下来，到我这边为什么就不行了呢？  
>翻了翻祖传的计算机网络原理，再翻一翻大佬[博客][blog_1]，探究推测：  
#### 后来者轻度访问天气网被ban原因：  
+ 1.校园网ip布局是多个用户共享一个独立ip，大家爬数据的时候同时用一个ip取访问，就会被对面服务器识别为有攻击意图，于是限制该ip访问。
+ 2 访问频率太快，设置每次跳转页面休眠3秒可以降低被ban的概率  

### 解决方法：  
+ 外接独立ip池，使用多个ip分布式爬取，最简单粗暴最富哥的方法，但是要money
+ 问老师要她爬的数据
+ 降低预期，爬个一年的数据差不多得了

## Q.E.D

## 最后
相关python代码以及八爪鱼配置文件放在了Q1文件夹里面，各位自取明鉴，各位同学如果有更好的想法欢迎加我v，我拉你进项目，蹲一个技术大佬qaq







[pic_1]:././picture/ban.png
[pic_2]:././picture/status.png
[pic_3]:././picture/table.png
[blog_1]:https://www.cnblogs.com/devilmaycry812839668/p/17067244.html